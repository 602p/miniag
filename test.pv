declare nonterminal AssocList

declare production NilAssocList
AssocList ::=
declare production ConsAssocList
AssocList ::= name::string val::int tail::AssocList

declare attribute name :: string
attach attribute name on AssocList
implement attribute name on ConsAssocList = name;
declare attribute val :: int
attach attribute val on AssocList
implement attribute val on ConsAssocList = val;
declare attribute tail :: AssocList
attach attribute tail on AssocList
implement attribute tail on ConsAssocList = tail;

declare nonterminal AssocListSearch
declare production DoSearch
AssocListSearch ::= sought::string list::AssocList
declare attribute result :: int
attach attribute result on AssocListSearch
implement attribute result on DoSearch = if list.name==sought then list.val else DoSearch(sought, list.tail).result;


declare nonterminal Main_nt

declare attribute exitcode :: int

attach attribute exitcode on Main_nt

declare production Main
Main_nt ::= 

implement attribute exitcode on Main =
	DoSearch("foo", ConsAssocList("foo", 123, ConsAssocList("bar", 456, NilAssocList()))).result;